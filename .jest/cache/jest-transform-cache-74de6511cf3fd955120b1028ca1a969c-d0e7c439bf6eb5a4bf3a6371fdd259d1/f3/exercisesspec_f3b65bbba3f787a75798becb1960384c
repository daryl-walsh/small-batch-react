886c2908e2957309f47fa222e15deca2
const randomstring = require('randomstring');

const username = randomstring.generate();
const email = `${username}@test.com`;
const password = 'greaterthanten';
describe('Exercises', () => {
  it('should display the exercises correctly if a user is not logged in', () => {
    cy.visit('/').get('h1').contains('Exercises').get('.notification.is-warning').contains('Please log in to submit an exercise.').get('button').should('not.be.visible');
  });
  it('should allow a user to submit an exercise if logged in', () => {
    cy.server();
    cy.route('POST', 'auth/register').as('createUser');
    cy.route('POST', Cypress.env('REACT_APP_API_GATEWAY_URL')).as('gradeExercise'); // register a new user

    cy.visit('/register').get('input[name="username"]').type(username).get('input[name="email"]').type(email).get('input[name="password"]').type(password).get('input[type="submit"]').click().wait('@createUser'); // assert exercises are displayed correctly

    cy.get('h1').contains('Exercises').get('.notification.is-success').contains('Welcome!').get('.notification.is-danger').should('not.be.visible').get('button.button.is-primary').contains('Run Code'); // assert user can submit an exercise

    cy.get('button').contains('Run Code').click().wait(600).get('h5 > .grade-text').contains('Incorrect!');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV4ZXJjaXNlcy5zcGVjLmpzIl0sIm5hbWVzIjpbInJhbmRvbXN0cmluZyIsInJlcXVpcmUiLCJ1c2VybmFtZSIsImdlbmVyYXRlIiwiZW1haWwiLCJwYXNzd29yZCIsImRlc2NyaWJlIiwiaXQiLCJjeSIsInZpc2l0IiwiZ2V0IiwiY29udGFpbnMiLCJzaG91bGQiLCJzZXJ2ZXIiLCJyb3V0ZSIsImFzIiwiQ3lwcmVzcyIsImVudiIsInR5cGUiLCJjbGljayIsIndhaXQiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFlBQVksR0FBR0MsT0FBTyxDQUFDLGNBQUQsQ0FBNUI7O0FBRUEsTUFBTUMsUUFBUSxHQUFHRixZQUFZLENBQUNHLFFBQWIsRUFBakI7QUFDQSxNQUFNQyxLQUFLLEdBQUksR0FBRUYsUUFBUyxXQUExQjtBQUNBLE1BQU1HLFFBQVEsR0FBRyxnQkFBakI7QUFHQUMsUUFBUSxDQUFDLFdBQUQsRUFBYyxNQUFNO0FBQzFCQyxFQUFBQSxFQUFFLENBQUMsbUVBQUQsRUFBc0UsTUFBTTtBQUM1RUMsSUFBQUEsRUFBRSxDQUNDQyxLQURILENBQ1MsR0FEVCxFQUVHQyxHQUZILENBRU8sSUFGUCxFQUVhQyxRQUZiLENBRXNCLFdBRnRCLEVBR0dELEdBSEgsQ0FHTywwQkFIUCxFQUdtQ0MsUUFIbkMsQ0FHNEMsc0NBSDVDLEVBSUdELEdBSkgsQ0FJTyxRQUpQLEVBSWlCRSxNQUpqQixDQUl3QixnQkFKeEI7QUFLRCxHQU5DLENBQUY7QUFRQUwsRUFBQUEsRUFBRSxDQUFDLHdEQUFELEVBQTJELE1BQU07QUFDakVDLElBQUFBLEVBQUUsQ0FBQ0ssTUFBSDtBQUNBTCxJQUFBQSxFQUFFLENBQUNNLEtBQUgsQ0FBUyxNQUFULEVBQWlCLGVBQWpCLEVBQWtDQyxFQUFsQyxDQUFxQyxZQUFyQztBQUNBUCxJQUFBQSxFQUFFLENBQUNNLEtBQUgsQ0FBUyxNQUFULEVBQWlCRSxPQUFPLENBQUNDLEdBQVIsQ0FBWSwyQkFBWixDQUFqQixFQUEyREYsRUFBM0QsQ0FBOEQsZUFBOUQsRUFIaUUsQ0FLakU7O0FBQ0FQLElBQUFBLEVBQUUsQ0FDQ0MsS0FESCxDQUNTLFdBRFQsRUFFR0MsR0FGSCxDQUVPLHdCQUZQLEVBRWlDUSxJQUZqQyxDQUVzQ2hCLFFBRnRDLEVBR0dRLEdBSEgsQ0FHTyxxQkFIUCxFQUc4QlEsSUFIOUIsQ0FHbUNkLEtBSG5DLEVBSUdNLEdBSkgsQ0FJTyx3QkFKUCxFQUlpQ1EsSUFKakMsQ0FJc0NiLFFBSnRDLEVBS0dLLEdBTEgsQ0FLTyxzQkFMUCxFQUsrQlMsS0FML0IsR0FNR0MsSUFOSCxDQU1RLGFBTlIsRUFOaUUsQ0FjakU7O0FBQ0FaLElBQUFBLEVBQUUsQ0FDQ0UsR0FESCxDQUNPLElBRFAsRUFDYUMsUUFEYixDQUNzQixXQUR0QixFQUVHRCxHQUZILENBRU8sMEJBRlAsRUFFbUNDLFFBRm5DLENBRTRDLFVBRjVDLEVBR0dELEdBSEgsQ0FHTyx5QkFIUCxFQUdrQ0UsTUFIbEMsQ0FHeUMsZ0JBSHpDLEVBSUdGLEdBSkgsQ0FJTywwQkFKUCxFQUltQ0MsUUFKbkMsQ0FJNEMsVUFKNUMsRUFmaUUsQ0FxQmpFOztBQUNBSCxJQUFBQSxFQUFFLENBQ0NFLEdBREgsQ0FDTyxRQURQLEVBQ2lCQyxRQURqQixDQUMwQixVQUQxQixFQUNzQ1EsS0FEdEMsR0FFR0MsSUFGSCxDQUVRLEdBRlIsRUFHR1YsR0FISCxDQUdPLGtCQUhQLEVBRzJCQyxRQUgzQixDQUdvQyxZQUhwQztBQUlELEdBMUJDLENBQUY7QUEyQkQsQ0FwQ08sQ0FBUiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJhbmRvbXN0cmluZyA9IHJlcXVpcmUoJ3JhbmRvbXN0cmluZycpO1xuXG5jb25zdCB1c2VybmFtZSA9IHJhbmRvbXN0cmluZy5nZW5lcmF0ZSgpO1xuY29uc3QgZW1haWwgPSBgJHt1c2VybmFtZX1AdGVzdC5jb21gO1xuY29uc3QgcGFzc3dvcmQgPSAnZ3JlYXRlcnRoYW50ZW4nO1xuXG5cbmRlc2NyaWJlKCdFeGVyY2lzZXMnLCAoKSA9PiB7XG4gIGl0KCdzaG91bGQgZGlzcGxheSB0aGUgZXhlcmNpc2VzIGNvcnJlY3RseSBpZiBhIHVzZXIgaXMgbm90IGxvZ2dlZCBpbicsICgpID0+IHtcbiAgICBjeVxuICAgICAgLnZpc2l0KCcvJylcbiAgICAgIC5nZXQoJ2gxJykuY29udGFpbnMoJ0V4ZXJjaXNlcycpXG4gICAgICAuZ2V0KCcubm90aWZpY2F0aW9uLmlzLXdhcm5pbmcnKS5jb250YWlucygnUGxlYXNlIGxvZyBpbiB0byBzdWJtaXQgYW4gZXhlcmNpc2UuJylcbiAgICAgIC5nZXQoJ2J1dHRvbicpLnNob3VsZCgnbm90LmJlLnZpc2libGUnKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBhbGxvdyBhIHVzZXIgdG8gc3VibWl0IGFuIGV4ZXJjaXNlIGlmIGxvZ2dlZCBpbicsICgpID0+IHtcbiAgICBjeS5zZXJ2ZXIoKTtcbiAgICBjeS5yb3V0ZSgnUE9TVCcsICdhdXRoL3JlZ2lzdGVyJykuYXMoJ2NyZWF0ZVVzZXInKTtcbiAgICBjeS5yb3V0ZSgnUE9TVCcsIEN5cHJlc3MuZW52KCdSRUFDVF9BUFBfQVBJX0dBVEVXQVlfVVJMJykpLmFzKCdncmFkZUV4ZXJjaXNlJyk7XG5cbiAgICAvLyByZWdpc3RlciBhIG5ldyB1c2VyXG4gICAgY3lcbiAgICAgIC52aXNpdCgnL3JlZ2lzdGVyJylcbiAgICAgIC5nZXQoJ2lucHV0W25hbWU9XCJ1c2VybmFtZVwiXScpLnR5cGUodXNlcm5hbWUpXG4gICAgICAuZ2V0KCdpbnB1dFtuYW1lPVwiZW1haWxcIl0nKS50eXBlKGVtYWlsKVxuICAgICAgLmdldCgnaW5wdXRbbmFtZT1cInBhc3N3b3JkXCJdJykudHlwZShwYXNzd29yZClcbiAgICAgIC5nZXQoJ2lucHV0W3R5cGU9XCJzdWJtaXRcIl0nKS5jbGljaygpXG4gICAgICAud2FpdCgnQGNyZWF0ZVVzZXInKTtcblxuICAgIC8vIGFzc2VydCBleGVyY2lzZXMgYXJlIGRpc3BsYXllZCBjb3JyZWN0bHlcbiAgICBjeVxuICAgICAgLmdldCgnaDEnKS5jb250YWlucygnRXhlcmNpc2VzJylcbiAgICAgIC5nZXQoJy5ub3RpZmljYXRpb24uaXMtc3VjY2VzcycpLmNvbnRhaW5zKCdXZWxjb21lIScpXG4gICAgICAuZ2V0KCcubm90aWZpY2F0aW9uLmlzLWRhbmdlcicpLnNob3VsZCgnbm90LmJlLnZpc2libGUnKVxuICAgICAgLmdldCgnYnV0dG9uLmJ1dHRvbi5pcy1wcmltYXJ5JykuY29udGFpbnMoJ1J1biBDb2RlJyk7XG5cbiAgICAvLyBhc3NlcnQgdXNlciBjYW4gc3VibWl0IGFuIGV4ZXJjaXNlXG4gICAgY3lcbiAgICAgIC5nZXQoJ2J1dHRvbicpLmNvbnRhaW5zKCdSdW4gQ29kZScpLmNsaWNrKClcbiAgICAgIC53YWl0KDYwMClcbiAgICAgIC5nZXQoJ2g1ID4gLmdyYWRlLXRleHQnKS5jb250YWlucygnSW5jb3JyZWN0IScpO1xuICB9KVxufSlcbiJdfQ==